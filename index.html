<html>
    <head>
        <title> Contracts-Go </title>
        <!-- Fonts yo -->
        <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
        <link rel="icon" href="img/favicon.ico" type="image/x-icon" />
        <!-- Firebase auth -->
        <script src="https://www.gstatic.com/firebasejs/3.2.0/firebase.js"></script>
        <script>
          var config = {
            apiKey: "AIzaSyCQzpSfkf6y8PVUV1pzciwzugWvicebQA0",
            authDomain: "contracts-go.firebaseapp.com",
            databaseURL: "https://contracts-go.firebaseio.com",
            storageBucket: "contracts-go.appspot.com",
          };
          firebase.initializeApp(config);
          var provider = new firebase.auth.GoogleAuthProvider();
        </script>
        
        <!-- Google log-in -->
        <script type="text/javascript">
        function signIn() {
          if (!firebase.auth().currentUser) {
            var provider = new firebase.auth.GoogleAuthProvider(); //create provider
            provider.addScope('https://www.googleapis.com/auth/plus.login'); // add scopes here
            firebase.auth().signInWithPopup(provider); //sign-in with redirect
          }
          else{
              window.location = "/PI.html"
          }
        }

        function signOut() {
            firebase.auth().signOut().then(function() {
                document.getElementById('PI-page').style.display = 'none';
                document.getElementById('home-page').style.display = 'block';
                }, function(error) {
                    console.log("error");
            });
        }
        window.onload = function() {
          document.getElementById('PI-page').style.display = 'none';
          firebase.auth().getRedirectResult().then(function(result) {
                var user = result.user;
              })
              firebase.auth().onAuthStateChanged(function(user) {
                if (user) {
                    document.getElementById('home-page').style.display = 'none';
                    document.getElementById('PI-page').style.display = 'block';
                    var name = user.displayName;
                    document.getElementById('name-prompt').innerHTML = 'Hey ' + name.substr(0,name.indexOf(' ')) + '.';

                }
              })
          document.getElementById('get-started').addEventListener('click', signIn, false);
        };     
         
        </script>
        <style>
            *{
                margin: 0;
                padding: 0;
                font-family: 'Open Sans', sans-serif;
                color: #1B2021;
            }
            #logo{
                max-width: 200px;
                width: 80%;
                margin-top: 30px;
                margin-left: 30px;
            }
            #container{
                width: 100%;
                max-width: 1040px;
                margin: auto;
            }
            #tagline, #name-prompt{
                text-align: center;
                font-size: 2em;
                margin-top: 100px;
                color: #283044;
            }
            .button{
                max-width: 200px;
                padding-top: 15px;
                text-align: center;
                height: 45px;
                margin: auto;
                background-color: #00a63f;
                color: #f7ebec;
                font-size: 1.3em;
                border-radius: 12px;
                font-weight: bold;
                margin-top: 50px;
            }
            .button:hover{
                opacity: .8;
                cursor: pointer;
            }
            .description{
                width: 30%;
                padding: 1.5%;
                float: left;
                text-align: center;
                background-color: #f7ebec;
                margin-top: 60px;
            }
            #moreInfo{
                color: #1B2021;
                height: 300px;
                background-color: #f7ebec;
            }
            #moreInfo h1{
                font-size: 1.5em;
                margin: 10 0;
            }
            .icon{
                height: 50px;
            }
            .wide-icon{
                width: 80px;
                margin-top: -25px;
            }
            footer{
                margin-top: 20px;
                text-align: center;
                color: #1B2021;
            }
            .caption{
                color: #1B2021;
                opacity: .4;
                text-align: center;
                margin-top: 10px;
                margin-bottom: 100px;
                font-size: .8em;
            }
            #name-prompt{
                color: #00a63f;
                font-weight: bold;
                font-size: 2em;
                margin-top: 50px;
            }
            .question{
                text-align: center;
            }
            .question .input{
                width: 90%;
                padding: 0 5%;
                background-color: #f7ebec;
                height: 450px;
                margin-top: 20px;
            }
            .question .input .prompt{
                padding-top: 30px;
                font-size: 1.5em;
            }
            .question .button{
                width: 150px;
                float: right;
                margin-top: 15px;
                margin-right: 3%;
            }
            #sign-out{
                text-align: right;
                margin-top: 10px;
                margin-right: 5px;
                font-size: .9em;
                opacity: .6;
            }

            .agreement_pic{
                margin-top: 20px;
                background-color: white;
                border: solid 1px lightgray;
                width: 30%;
                float: left;
                margin-left: 2%;
                height: 250px;
            }
            .agreement_pic:hover{
                cursor: pointer;
            }
            .agreement_pic:first-child{
                margin-left: 0;
            }
            .agreement_pic img{
                height: 100px;
                margin-top: 50px;
            }
            .agreement_pic .tall-icon{
                height: 130px;
                margin-top: 20px;
            }
            .agreement_pic p{
                margin-top: 20px;
                font-size: 1.1em;
            }
            @media (max-width: 570px) {
                .description{
                    width: 90%;
                    padding: 0% 5%;
                }
                footer p{
                    margin-top: 260px;
                }
                #middle_desc{
                    margin-bottom: -60px;
                }
            }
        </style>
    </head>
    <body>
    <div id="home-page">
        <div id="container">
            <header>
                <img src="img/not-a-logo.png" id="logo">
                <p id="tagline"> Creating non-disclosure agreements has never been so easy. </p>
                <div class="button" id="get-started"> Get Started </div>
                <p class="caption"> By signing in with your Stevens account. </p>
            </header>
            <div id="moreInfo">
                <div class="description">
                    <img src="img/fast.png" class="icon">
                    <h1> Fast </h1>
                    <p> Just step through a few questions and we'll have your document generated in no time. </p>
                </div>
                <div class="description" id="middle_desc">
                    <img src="img/reliable.png" class="wide-icon">
                    <h1> Reliable </h1>
                    <p> We get your documents where they need to go, when they need to go. </p>
                </div>
                <div class="description">
                    <img src="img/easy.png" class="icon">
                    <h1> Easy </h1>
                    <p> No scanning documents. No sending emails. No hassle. </p>
                </div>
            </div>
            <footer>
                <p> Copyright &copy; Contacts-Go 2016 </p>
            </footer>
        </div>
    </div>
    
    <div id="PI-page">
        <div id="container">
            <header>
                <img src="img/not-a-logo.png" id="logo">
            </header>
            <div class="question">
                <p id="name-prompt"> </p>
                <p style="margin-top: 10px; opacity: .8"> We'll need just a few bits of information before we can generate your document. </p>
                <div class="input">
                    <p class="prompt"> What type of agreement is it? </p>
                    <div class="agreement_pic">
                        <img src="img/disclose.png">
                        <p> Stevens Disclosing </p>
                    </div>
                    <div class="agreement_pic">
                        <img src="img/reliable.png" class="tall-icon">
                        <p> Mutual </p>
                    </div>
                    <div class="agreement_pic">
                        <img src="img/receive.png">
                        <p> Stevens Receiving </p>
                    </div>
                                    <div class="button question-button"> Continue </div>

                </div>
            </div>
            <div id="sign-out">
                <p> Want to come back later? </p>
                <a onclick="signOut()" style="text-decoration: underline; cursor:pointer; margin-top: 30px;"> Sign Out </a>
            </div>
            <footer>
                <p style="position: absolute; bottom: 10; left: 50%; text-align: center;"> Copyright &copy; Contacts-Go 2016 </p>
            </footer>
        </div>
    </div>
    </body>
</html>